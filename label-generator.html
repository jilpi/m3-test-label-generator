<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Label</title>
        <link rel="stylesheet" href="label-qrious.css">
        <script src="qrious/qrious.min.js"></script>
    </head>

    <body>
        <div class="grid">
            <div class="textcell">
                <lbl-lastname>@LASTNAME@</lbl-lastname><br/>
                <lbl-firstname>FIRSTNAME@</lbl-firstname><br/>
                <lbl-gender>@GENDER@</lbl-gender> <lbl-dob>@DOB@</lbl-dob><br/>
                <lbl-avs>@AVS@</lbl-avs><br/>
                <lbl-insurance>@INSURANCE@</lbl-insurance><br/>
                <lbl-mobile>@MOBILE@</lbl-mobile><br/>
                <lbl-email>@EMAIL@</lbl-email><br/>
                <lbl-site_name>@SITE_NAME@</lbl-site_name>
            </div>
            
            <div class="qrcell">
                <lbl-service_type>@SERVICE-TYPE@</lbl-service_type><br/>
                <lbl-code>@CODE@</lbl-code><br/>
                <canvas id="qrcode">@QRCODE@</canvas>
            </div>
        </div>

        <script type="text/javascript" src="label-generator.js"></script>

        <script type="text/javascript">
            var qrcode;
            (function() {
                const QRelement = document.getElementById("qrcode");
                const QRvalue = document.getElementById("qrcode").innerHTML;
                console.info(`- Generating QR for ${QRvalue}`);
                qrcode = new QRious(
                    {
                        element: QRelement,
                        value: QRvalue,
                        level: "Q",
                        size: 60,
                        padding: 5
                    }
                )
            })();
        </script>

        <script lang="javascript">
            if (autoprint)
                window.print();
        </script>
    </body>
</html>